<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Make a future time series from an existing time series — tk_make_future_timeseries • timetk</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76139189-1', 'auto');
  ga('send', 'pageview');

</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">timetk</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/TK00_Time_Series_Coercion.html">Time series coercion</a>
    </li>
    <li>
      <a href="../articles/TK01_Working_With_Time_Series_Index.html">Time series index</a>
    </li>
    <li>
      <a href="../articles/TK02_Making_A_Future_Time_Series_Index.html">Creating future time series indices</a>
    </li>
    <li>
      <a href="../articles/TK03_Forecasting_Using_Time_Series_Signature.html">Forecasting with timetk</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/business-science/timetk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make a future time series from an existing time series</h1>
    </div>

    
    <p>Make a future time series from an existing time series</p>
    

    <pre class="usage"><span class='fu'>tk_make_future_timeseries</span>(<span class='no'>idx</span>, <span class='no'>n_future</span>, <span class='kw'>inspect_weekdays</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>inspect_months</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>skip_values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>insert_values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>idx</th>
      <td><p>A vector of dates</p></td>
    </tr>
    <tr>
      <th>n_future</th>
      <td><p>Number of future observations</p></td>
    </tr>
    <tr>
      <th>inspect_weekdays</th>
      <td><p>Uses a logistic regression algorithm to inspect
whether certain weekdays (e.g. weekends) should be excluded from the future dates.
Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>inspect_months</th>
      <td><p>Uses a logistic regression algorithm to inspect
whether certain days of months (e.g. last two weeks of year or seasonal days)
should be excluded from the future dates.
Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>skip_values</th>
      <td><p>A vector of same class as <code>idx</code> of timeseries
values to skip.</p></td>
    </tr>
    <tr>
      <th>insert_values</th>
      <td><p>A vector of same class as <code>idx</code> of timeseries
values to insert.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector containing future dates</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>tk_make_future_timeseries</code> returns a time series based
on the input index frequency and attributes.</p>
<p>The argument <code>n_future</code> determines how many future index observations to compute.</p>
<p>The <code>inspect_weekdays</code> and <code>inspect_months</code> arguments apply to "daily" (scale = "day") data
(refer to <code><a href='tk_get_timeseries.html'>tk_get_timeseries_summary()</a></code> to get the index scale).
The <code>inspect_weekdays</code> argument is useful in determining missing days of the week
that occur on a weekly frequency such as every week, every other week, and so on.
It's recommended to have at least 60 days to use this option.
The <code>inspect_months</code> argument is useful in determining missing days of the month, quarter
or year; however, the algorithm can inadvertently select incorrect dates if the pattern
is erratic.
For example, some holidays do not occur on the same day of each month, and
as a result the incorrect day may be selected in certain years.
It's recommended to always review the date results to ensure the future days match
the user's expectations. It's recommended to have at least two years of days to use
this option.</p>
<p>The <code>skip_values</code> and <code>insert_values</code> arguments can be used to remove and add
values into the series of future times. The values must be the same format as the <code>idx</code> class.
The <code>skip_values</code> argument useful for passing holidays or special index values that should
be excluded from the future time series.
The <code>insert_values</code> argument is useful for adding values back that the algorithm may have
excluded.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>tk_index()</code>, <code><a href='tk_get_timeseries.html'>tk_get_timeseries_summary()</a></code>, <code><a href='tk_get_timeseries.html'>tk_get_timeseries_signature()</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>tidyquant</span>)
<span class='fu'>library</span>(<span class='no'>timetk</span>)

<span class='co'># Basic example</span>
<span class='no'>idx</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"2016-01-01 00:00:00"</span>,
         <span class='st'>"2016-01-01 00:00:03"</span>,
         <span class='st'>"2016-01-01 00:00:06"</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>ymd_hms</span>()
<span class='co'># Make next three dates in series</span>
<span class='no'>idx</span> <span class='kw'>%&gt;%</span>
    <span class='fu'>tk_make_future_timeseries</span>(<span class='kw'>n_future</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; [1] "2016-01-01 00:00:09 UTC" "2016-01-01 00:00:12 UTC"
#&gt; [3] "2016-01-01 00:00:15 UTC"</div><div class='input'>

<span class='co'># Create index of days that FB stock will be traded in 2017 based on 2016 + holidays</span>
<span class='no'>FB_tbl</span> <span class='kw'>&lt;-</span> <span class='no'>FANG</span> <span class='kw'>%&gt;%</span> <span class='fu'>filter</span>(<span class='no'>symbol</span> <span class='kw'>==</span> <span class='st'>"FB"</span>)
<span class='no'>holidays</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='st'>"2017-01-02"</span>, <span class='st'>"2017-01-16"</span>, <span class='st'>"2017-02-20"</span>,
              <span class='st'>"2017-04-14"</span>, <span class='st'>"2017-05-29"</span>, <span class='st'>"2017-07-04"</span>,
              <span class='st'>"2017-09-04"</span>, <span class='st'>"2017-11-23"</span>, <span class='st'>"2017-12-25"</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>ymd</span>()
<span class='co'># Remove holidays with skip_values, and remove weekends with inspect_weekdays = TRUE</span>
<span class='no'>FB_tbl</span> <span class='kw'>%&gt;%</span>
    <span class='fu'>tk_index</span>() <span class='kw'>%&gt;%</span>
    <span class='fu'>tk_make_future_timeseries</span>(<span class='kw'>n_future</span>         <span class='kw'>=</span> <span class='fl'>366</span>,
                              <span class='kw'>inspect_weekdays</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                              <span class='kw'>skip_values</span>      <span class='kw'>=</span> <span class='no'>holidays</span>)</div><div class='output co'>#&gt; <span class='message'>pad applied on the interval: day</span></div><div class='output co'>#&gt;   [1] "2017-01-03" "2017-01-04" "2017-01-05" "2017-01-06" "2017-01-09"
#&gt;   [6] "2017-01-10" "2017-01-11" "2017-01-12" "2017-01-13" "2017-01-17"
#&gt;  [11] "2017-01-18" "2017-01-19" "2017-01-20" "2017-01-23" "2017-01-24"
#&gt;  [16] "2017-01-25" "2017-01-26" "2017-01-27" "2017-01-30" "2017-01-31"
#&gt;  [21] "2017-02-01" "2017-02-02" "2017-02-03" "2017-02-06" "2017-02-07"
#&gt;  [26] "2017-02-08" "2017-02-09" "2017-02-10" "2017-02-13" "2017-02-14"
#&gt;  [31] "2017-02-15" "2017-02-16" "2017-02-17" "2017-02-21" "2017-02-22"
#&gt;  [36] "2017-02-23" "2017-02-24" "2017-02-27" "2017-02-28" "2017-03-01"
#&gt;  [41] "2017-03-02" "2017-03-03" "2017-03-06" "2017-03-07" "2017-03-08"
#&gt;  [46] "2017-03-09" "2017-03-10" "2017-03-13" "2017-03-14" "2017-03-15"
#&gt;  [51] "2017-03-16" "2017-03-17" "2017-03-20" "2017-03-21" "2017-03-22"
#&gt;  [56] "2017-03-23" "2017-03-24" "2017-03-27" "2017-03-28" "2017-03-29"
#&gt;  [61] "2017-03-30" "2017-03-31" "2017-04-03" "2017-04-04" "2017-04-05"
#&gt;  [66] "2017-04-06" "2017-04-07" "2017-04-10" "2017-04-11" "2017-04-12"
#&gt;  [71] "2017-04-13" "2017-04-17" "2017-04-18" "2017-04-19" "2017-04-20"
#&gt;  [76] "2017-04-21" "2017-04-24" "2017-04-25" "2017-04-26" "2017-04-27"
#&gt;  [81] "2017-04-28" "2017-05-01" "2017-05-02" "2017-05-03" "2017-05-04"
#&gt;  [86] "2017-05-05" "2017-05-08" "2017-05-09" "2017-05-10" "2017-05-11"
#&gt;  [91] "2017-05-12" "2017-05-15" "2017-05-16" "2017-05-17" "2017-05-18"
#&gt;  [96] "2017-05-19" "2017-05-22" "2017-05-23" "2017-05-24" "2017-05-25"
#&gt; [101] "2017-05-26" "2017-05-30" "2017-05-31" "2017-06-01" "2017-06-02"
#&gt; [106] "2017-06-05" "2017-06-06" "2017-06-07" "2017-06-08" "2017-06-09"
#&gt; [111] "2017-06-12" "2017-06-13" "2017-06-14" "2017-06-15" "2017-06-16"
#&gt; [116] "2017-06-19" "2017-06-20" "2017-06-21" "2017-06-22" "2017-06-23"
#&gt; [121] "2017-06-26" "2017-06-27" "2017-06-28" "2017-06-29" "2017-06-30"
#&gt; [126] "2017-07-03" "2017-07-05" "2017-07-06" "2017-07-07" "2017-07-10"
#&gt; [131] "2017-07-11" "2017-07-12" "2017-07-13" "2017-07-14" "2017-07-17"
#&gt; [136] "2017-07-18" "2017-07-19" "2017-07-20" "2017-07-21" "2017-07-24"
#&gt; [141] "2017-07-25" "2017-07-26" "2017-07-27" "2017-07-28" "2017-07-31"
#&gt; [146] "2017-08-01" "2017-08-02" "2017-08-03" "2017-08-04" "2017-08-07"
#&gt; [151] "2017-08-08" "2017-08-09" "2017-08-10" "2017-08-11" "2017-08-14"
#&gt; [156] "2017-08-15" "2017-08-16" "2017-08-17" "2017-08-18" "2017-08-21"
#&gt; [161] "2017-08-22" "2017-08-23" "2017-08-24" "2017-08-25" "2017-08-28"
#&gt; [166] "2017-08-29" "2017-08-30" "2017-08-31" "2017-09-01" "2017-09-05"
#&gt; [171] "2017-09-06" "2017-09-07" "2017-09-08" "2017-09-11" "2017-09-12"
#&gt; [176] "2017-09-13" "2017-09-14" "2017-09-15" "2017-09-18" "2017-09-19"
#&gt; [181] "2017-09-20" "2017-09-21" "2017-09-22" "2017-09-25" "2017-09-26"
#&gt; [186] "2017-09-27" "2017-09-28" "2017-09-29" "2017-10-02" "2017-10-03"
#&gt; [191] "2017-10-04" "2017-10-05" "2017-10-06" "2017-10-09" "2017-10-10"
#&gt; [196] "2017-10-11" "2017-10-12" "2017-10-13" "2017-10-16" "2017-10-17"
#&gt; [201] "2017-10-18" "2017-10-19" "2017-10-20" "2017-10-23" "2017-10-24"
#&gt; [206] "2017-10-25" "2017-10-26" "2017-10-27" "2017-10-30" "2017-10-31"
#&gt; [211] "2017-11-01" "2017-11-02" "2017-11-03" "2017-11-06" "2017-11-07"
#&gt; [216] "2017-11-08" "2017-11-09" "2017-11-10" "2017-11-13" "2017-11-14"
#&gt; [221] "2017-11-15" "2017-11-16" "2017-11-17" "2017-11-20" "2017-11-21"
#&gt; [226] "2017-11-22" "2017-11-24" "2017-11-27" "2017-11-28" "2017-11-29"
#&gt; [231] "2017-11-30" "2017-12-01" "2017-12-04" "2017-12-05" "2017-12-06"
#&gt; [236] "2017-12-07" "2017-12-08" "2017-12-11" "2017-12-12" "2017-12-13"
#&gt; [241] "2017-12-14" "2017-12-15" "2017-12-18" "2017-12-19" "2017-12-20"
#&gt; [246] "2017-12-21" "2017-12-22" "2017-12-26" "2017-12-27" "2017-12-28"
#&gt; [251] "2017-12-29"</div><div class='input'>
<span class='co'># Works with regularized indexes as well</span>
<span class='fu'>c</span>(<span class='fl'>2016.00</span>, <span class='fl'>2016.25</span>, <span class='fl'>2016.50</span>, <span class='fl'>2016.75</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>tk_make_future_timeseries</span>(<span class='kw'>n_future</span> <span class='kw'>=</span> <span class='fl'>4</span>)</div><div class='output co'>#&gt; [1] 2017.00 2017.25 2017.50 2017.75</div><div class='input'>
<span class='co'># Works with zoo yearmon and yearqtr too</span>
<span class='fu'>c</span>(<span class='st'>"2016 Q1"</span>, <span class='st'>"2016 Q2"</span>, <span class='st'>"2016 Q3"</span>, <span class='st'>"2016 Q4"</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>as.yearqtr</span>() <span class='kw'>%&gt;%</span>
    <span class='fu'>tk_make_future_timeseries</span>(<span class='kw'>n_future</span> <span class='kw'>=</span> <span class='fl'>4</span>)</div><div class='output co'>#&gt; [1] "2017 Q1" "2017 Q2" "2017 Q3" "2017 Q4"</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Matt Dancho, Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
